{% extends "base.html" %} {% block title %}{{ config.name }}{% endblock %} {%
block head %}
<meta name="description" content="{{ config.description }}" />
{% endblock %} {% block nav_left %}
<a class="button active" href="/">
    <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        width="18"
        height="18"
        aria-label="Home symbol"
        class="icon"
    >
        <path
            d="M12.97 2.59a1.5 1.5 0 0 0-1.94 0l-7.5 6.363A1.5 1.5 0 0 0 3 10.097V19.5A1.5 1.5 0 0 0 4.5 21h4.75a.75.75 0 0 0 .75-.75V14h4v6.25c0 .414.336.75.75.75h4.75a1.5 1.5 0 0 0 1.5-1.5v-9.403a1.5 1.5 0 0 0-.53-1.144l-7.5-6.363Z"
        ></path>
    </svg>
    Timeline
</a>

<a class="button" href="/inbox">
    <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 16 16"
        width="16"
        height="16"
        aria-label="Inbox symbol"
        class="icon"
    >
        <path
            d="M2.8 2.06A1.75 1.75 0 0 1 4.41 1h7.18c.7 0 1.333.417 1.61 1.06l2.74 6.395c.04.093.06.194.06.295v4.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25v-4.5c0-.101.02-.202.06-.295Zm1.61.44a.25.25 0 0 0-.23.152L1.887 8H4.75a.75.75 0 0 1 .6.3L6.625 10h2.75l1.275-1.7a.75.75 0 0 1 .6-.3h2.863L11.82 2.652a.25.25 0 0 0-.23-.152Zm10.09 7h-2.875l-1.275 1.7a.75.75 0 0 1-.6.3h-3.5a.75.75 0 0 1-.6-.3L4.375 9.5H1.5v3.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Z"
        ></path>
    </svg>
    Inbox {% if unread != 0 %}
    <span class="notification">{{ unread }}</span>
    {% endif %}
</a>
{% endblock %} {% block content %}
<article>
    {% if responses.len() == 0 %}
    <main>
        <p>
            You've seen everything!
            <em>For now...</em>
        </p>
    </main>
    {% endif %}

    <main class="flex flex-col gap-2">
        <p>Answers from people you follow (and yourself) will show up here!</p>
        {% for response in responses %}
        <div class="card-nest w-full shadow" id="response:{{ response.id }}">
            <div class="card flex flex-col gap-1">
                <div class="flex justify-between gap-1 question_title">
                    <div class="footernav">
                        <b class="flex items-center gap-2 item">
                            <img
                                title="{{ response.question.author }}'s avatar"
                                src="/api/v1/profiles/{{ response.question.author }}/avatar"
                                alt=""
                                class="avatar round-sm"
                                style="--size: 20px"
                            />

                            {% if response.question.author != "anonymous" %}
                            <a
                                href="/@{{ response.question.author }}"
                                style="color: inherit"
                            >
                                {{ response.question.author }}
                            </a>
                            {% else %} {{ response.question.author }} {% endif
                            %}
                        </b>

                        <span class="date item">
                            {{ response.question.timestamp }}
                        </span>
                    </div>
                </div>

                <!-- prettier-ignore -->
                <span class="question_content">
                    {{ xsu_util::ui::render_markdown(response.question.content)|safe }}
                </span>
            </div>

            <div class="card flex flex-col gap-1">
                <!-- prettier-ignore -->
                <span class="response_content">
                    {{ xsu_util::ui::render_markdown(response.content)|safe }}
                </span>

                <div
                    class="flex justify-between items-center gap-1 response_title"
                >
                    <div class="footernav">
                        <b class="flex items-center gap-2 item">
                            <img
                                title="{{ response.author }}'s avatar"
                                src="/api/v1/profiles/{{ response.author }}/avatar"
                                alt=""
                                class="avatar round-sm"
                                style="--size: 20px"
                            />

                            <a
                                href="/@{{ response.author }}"
                                style="color: inherit"
                            >
                                {{ response.author }}
                            </a>
                        </b>

                        <span class="date item">{{ response.timestamp }}</span>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </main>
</article>
{% call super() %} {% endblock %}
